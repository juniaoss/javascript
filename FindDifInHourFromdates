function formataHora() {
    
    if (Xrm.Page.getAttribute("smart_datadoevento").getValue() == null || 
        Xrm.Page.getAttribute("smart_datadoevento").getValue() == undefined ||
        Xrm.Page.getAttribute("smart_datafinaldoevento").getValue() == null ||
        Xrm.Page.getAttribute("smart_datafinaldoevento").getValue() == undefined)
    {
        return;
    }

    var dtInicio = Xrm.Page.getAttribute("smart_datadoevento").getValue();
    var dtFinal = Xrm.Page.getAttribute("smart_datafinaldoevento").getValue();

    var a = new Date(dtInicio);
    var b = new Date(dtFinal);

    var inMinutes = ((b - a) / 1000)/60;

    var emHoras = inMinutes / 60;
    var horaSeparada = emHoras.toString().split(".");
    var horas = horaSeparada[0];
    if (horaSeparada.length < 2) {
        minutos = 0;
    } else {
        var minutosESegundos = "0." + horaSeparada[1];
        parseFloat.minutosESegundos;
        var minutos = minutosESegundos * 60;
    }
    
    var horaCompleta = horas + "," + minutos;
    parseFloat.horaCompleta
    Xrm.Page.getAttribute("smart_duracaodoevento").setValue(horaCompleta);
}
